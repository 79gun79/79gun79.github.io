---
title: "[Tech] 클로저와 렉시컬 스코프/환경"
date: 2025-10-09 14:25:32 +0900
categories: [CS, 자바스크립트]
tags: [study, cs, frontend, javascript]
---

## **<span class="purplepen">클로저</span>(Closure)**란?!   

**<span class="purplepen">클로저</span>**는 내부 함수가 <span class="yellow2pen">자신이 선언될 때의 환경의 범위</span>(= `Lexical Scope`)를 기억하여,    
함수가 <span class="blue2pen">해당 범위 밖에서 호출되어도 해당 범위에 접근할 수 있는 함수</span>를 말한다.    

```js   
function 외부함수() {
    var 값 = 10;
    var 내부함수 = function () { console.log(값); };
    return 내부함수;
}

var 내부호출 = 외부함수();
내부호출();
```   

- 위의 예시처럼, `외부함수`는 `내부함수`를 반환하고 <span class="graypen">**호출 스택**</span>에서 제거된다.  
- 따라서, 마치 내부함수는 외부함수의 변수에 접근하지 못한 것처럼 보인다.  

- 그러나, 자신을 포함한 `외부함수`보다 `내부함수`가 더 오래 유지되면,  
  `내부함수`가 범위 밖에서 호출되어도 `외부함수`의 지역 변수에 접근할 수 있다!

> 이러한 함수를 **클로저**(Closure)라 한다!

---

### **<span class="purplepen">클로저</span>**는 어디서 사용하나?!

- **<span class="purplepen">클로저</span>**를 주로 사용하는 이유는 <span class="redpen">전역 변수의 단점</span>을 피하기 위해서다.   
  - <span class="redpen">전역 변수의 단점</span>: 어디서나 접근과 변경이 가능해서 여러 오류를 범할수 있음.  
- 따라서, **상태 유지**에서도 사용된다.  
- 더불어, **정보 은닉**과 **캡슐화**를 위한 방식으로도 활용된다.  

<br>

---

## **<span class="greenpen">렉시컬 스코프</span>(Lexical Scope)**란?!    

- 변수(함수)가 있으면, 해당 변수(함수)가 유효한 스코프를 따진다.
- 여기서 말하는 스코프(=`scope`)는 말 그대로 범위를 말하며, 흔히 **전역(global)**인가, **지역(local)**인가로 구분한다. 

그렇다면, 여기서 말하는 **<span class="greenpen">렉시컬 스코프</span>(Lexical Scope)**는!    
- 이런 범위가 <span class="yellow2pen">어디서 **선언**했는지에 따라 결정되는 것</span>을 의미한다.  
- 다른 말로 <span class="greenpen">정적 스코프</span>(Static Scope)라고도 한다.  
  
  ```js   
  var 값 = 25;

  function 함수1() {
    var 값 = 50;
    함수2();
  } 

  function 함수2() { console.log(값);}
  
  함수1();
  함수2();
  ```   
  - 해당 예제에서, 각각의 함수를 호출하면, 두 함수 모두 동일하게 `25`가 출력된다.
  - 이는 값이라는 변수가 최초에 가장 외부인 곳에서 선언되었으로, 해당 범위가 전역으로 결정되었기 때문이다!  

> 반대로, 어디서 **호출** 했는가에 따라 정해지는 동적 스코프도(Dynamic Scpoe)도 존재한다.   

<br>

---

## **<span class="greenpen">렉시컬 환경</span>(Lexical Invirionment)**란?!    

- **<span class="greenpen">렉시컬 환경</span>**은 실행 컨텍스트(Execution Context)의 **Record**와 **Outer**를 포함한다.    
- 이는 식별자(변수, 함수)와 식별자의 값, 스코프 체인을 포함한 자료구조를 말한다.   
- 함수 호출 때 마다, 새로운 <span class="greenpen">렉시컬 환경</span>이 생성되며, 이는 현재 실행 중인 코드 블록의 식별자 정보를 관리한다.   
- 그리고 함수 실행이 종료되면, 해당 <span class="greenpen">렉시컬 환경</span>은 제거된다.    

<img width="739" height="390" alt="Image" src="https://github.com/user-attachments/assets/27619db1-eac2-487a-8fb8-b7bd23fb45f0" />    

### **<span class="greenpen">렉시컬 환경</span>**의 구성 요소

실행 컨텍스트의 **Record(Environment Record)**      
- <span class="yellow2pen">현재 스코프에 속한 모든 지역 변수를 저장</span>하는 구조   
- 선언적 환경(변수 및 함수 선언) + 객체 바인딩을 포함한 환경을 의미.       

실행 컨텍스트의 **Outer(Outer Environment Reference)**      
- <span class="blue2pen">현재 스코프의 외부 스코프(부모 스코프)를 참조</span>   
- 이 특징으로, 스코프 체인을 형성하여 현재 스코프에 없는 식별자를 찾을 수 있도록 함.   

<br>

---   

##### ✨ 출처   

[프론트엔드 기술 면접 질문](https://frontend-interview-question.vercel.app/)     
[Blog, [JS] 📚 클로저 (Closure) 개념 완벽 정리](https://inpa.tistory.com/entry/JS-%F0%9F%93%9A-%ED%81%B4%EB%A1%9C%EC%A0%80)     
[Blog, [태기의 개발] 렉시컬 스코프](https://ljtaek2.tistory.com/145)      
[Blog, [JavaScript] 렉시컬 환경 (Lexical Environment)](https://velog.io/@bcong/JavaScript-%EB%A0%89%EC%8B%9C%EC%BB%AC-%ED%99%98%EA%B2%BD-Lexical-Environment#%EC%8B%A4%ED%96%89-%EC%BB%A8%ED%85%8D%EC%8A%A4%ED%8A%B8execution-context-%EA%B5%AC%EC%A1%B0)       
{: .small}     

---

