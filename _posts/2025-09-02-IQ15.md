---
title: "마이크로태스크 큐, 태스크 큐"
date: 2025-09-02 15:35:27 +0900
categories: [CS, CS-프론트엔드]
tags: [study, cs, frontend]
---

<img width="1271" height="713" alt="면접fe" src="https://github.com/user-attachments/assets/62dd472e-ea9e-49ab-97c0-dc6919de6fba" />

## **마이크로태스크 큐, 태스크 큐**

지난 번 **<span class="purplepen">이벤트 루프</span>**에 대해서 살펴볼 때,  
자바스크립트에서 `콜백함수`가 처리되는 과정을 확인했다.   
![내GIF1](https://github.com/user-attachments/assets/7aa1fd18-08a0-4ae4-92e9-8ea5e4227245)    
위의 그림과 같이, `콜백함수`는 **Callback Queue**라는 곳을 거치는데   
사실 두 종류의 **마이크로태스크 큐**와 **태스크 큐**로 나뉘어서 작업을 진행한다.  
해당 큐에 대해 자세히 알아보자.  

<br>

### 마이크로태스크 큐와 태스크 큐는 무엇인가?

- 두 가지의 큐는 동일하게 `콜백함수`를 처리한다는 공통점이 있다.   
- 하지만 일반적인 큐처럼, `FIFO(First In Firt Out)` 동작을 하지 않고,     
  **<span class="pinkpen">우선순위 큐(Priority Queue)</span>**에 따른   우선순위가 높은 순서가 먼저 처리되는 동작을 진행한다.   
> 결과적으로, `콜백함수`를 어떤 큐에 넣느냐에 따른 **우선순위 우선 처리 작업**이 진행된다!  

<br>

---

### **<span class="greepen">태스크 큐</span>**에 들어가는 콜백함수   
- `setTimeout()`  
- `setInterval()`  
- `setImmediate()`   
- `requestAnimationFrame`  
- `Input/Output`  
- UI 렌더링  

### **<span class="greepen">마이크로태스크 큐</span>**에 들어가는 콜백함수   
- `process.nextTick`  
- `Promise`  
- `async/await`  
- `Object.observe`  
- `Mutation Observer`  

<br>

---

### 마이크로태스크 큐와 태스크 큐 중, 누가 먼저인가?  

**<span class="purplepen">이벤트 루프</span>**는 콜백함수를 처리하기 위해, 두 개의 큐에서 꺼내서 넘긴다.  
그렇다면, 누가 먼저인가?  

> 우선순위: **<span class="greepen">마이크로태스크 큐</span>** > **<span class="greepen">태스크 큐</span>**  

따라서, **<span class="greepen">마이크로태스크 큐</span>**의 작업이 모두 처리되고 나서, **<span class="greepen">태스크 큐</span>**의 작업이 처리된다.  

---

### 작업 예시

예제  
```js
console.log('일반적인작업');
setTimeout(() => console.log('태스크큐작업'), 0);
Promise.resolve().then(() => console.log('마이크로태스크큐작업'));
```  

결과
```bash
일반적인작업
마이크로태스크큐작업
태스크큐작업
```

<br>

---

##### ✨ 출처

[blog, Task와 Microtask의 동작방식](https://baeharam.netlify.app/posts/javascript/JS-Task%EC%99%80-Microtask%EC%9D%98-%EB%8F%99%EC%9E%91%EB%B0%A9%EC%8B%9D)     
{: .small}   

---